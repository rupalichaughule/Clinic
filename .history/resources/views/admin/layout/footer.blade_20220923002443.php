<footer class="main-footer">
    <strong>Copyright &copy; <script>document.write(new Date().getFullYear());</script> <a href="/" target="_blank">Clinic</a>.</strong>
    All rights reserved.
    
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->



<!-- Info delete Modal -->
<div id="memberlogin-alert-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-body p-4">
                <div class="text-center">
                    <i class="dripicons-information h1 text-info"></i>
                    <h4 class="mt-2">Login User!</h4>
                    <p class="mt-3">Are you sure?</p>
                    <button type="button" class="btn btn-info my-2" data-dismiss="modal">Cancel</button>
                    <a href="#" id="update_memberlogin_link" class="btn btn-danger my-2">Continue</a>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Info Alert Modal -->
<div id="activealert-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-body p-4">
                <div class="text-center">
                    <i class="dripicons-information h1 text-info"></i>
                    <h4 class="mt-2">Active User!</h4>
                    <p class="mt-3">Are you sure?</p>
                    <button type="button" class="btn btn-info my-2" data-dismiss="modal">Cancel</button>
                    <a href="#" id="activeupdate_link" class="btn btn-danger my-2">Continue</a>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Info Alert Modal -->
<div id="inactivealert-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-body p-4">
                <div class="text-center">
                    <i class="dripicons-information h1 text-info"></i>
                    <h4 class="mt-2">In-active User!</h4>
                    <p class="mt-3">Are you sure?</p>
                    <button type="button" class="btn btn-info my-2" data-dismiss="modal">Cancel</button>
                    <a href="#" id="inactiveupdate_link" class="btn btn-danger my-2">Continue</a>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-- Info Alert Modal -->
<div id="changedeliverystatus-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-body p-4">
                <div class="text-center">
                    <i class="dripicons-information h1 text-info"></i>
                    <h4 class="mt-2">Change Status!</h4>
                    <p class="mt-3">Are you sure, You want to Change Status?</p>
                    <button type="button" class="btn btn-info my-2" data-dismiss="modal">Cancel</button>
                    <a href="#" id="changedeliverystatus_link" class="btn btn-danger my-2">Continue</a>
                </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<!-- jQuery -->
<script src="/admin-assets/plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="/admin-assets/plugins/jquery-ui/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="/admin-assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- Select2 -->
<script src="/admin-assets/plugins/select2/js/select2.full.min.js"></script>
<!-- ChartJS -->
<script src="/admin-assets/plugins/chart.js/Chart.min.js"></script>
<!-- Sparkline -->
<script src="/admin-assets/plugins/sparklines/sparkline.js"></script>
<!-- JQVMap -->
<script src="/admin-assets/plugins/jqvmap/jquery.vmap.min.js"></script>
<script src="/admin-assets/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
<!-- jQuery Knob Chart -->
<script src="/admin-assets/plugins/jquery-knob/jquery.knob.min.js"></script>
<!-- daterangepicker -->
<!-- <script src="/admin-assets/plugins/moment/moment.min.js"></script> -->
<script src="https://cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/a549aa8780dbda16f6cff545aeabc3d71073911e/src/js/bootstrap-datetimepicker.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="/admin-assets/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>



<!-- Bootstrap4 Duallistbox -->
<script src="/admin-assets/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js"></script>
<!-- InputMask -->
<script src="/admin-assets/plugins/moment/moment.min.js"></script>
<script src="/admin-assets/plugins/inputmask/jquery.inputmask.min.js"></script>
<!-- date-range-picker -->
<script src="/admin-assets/plugins/daterangepicker/daterangepicker.js"></script>
<!-- bootstrap color picker -->
<script src="/admin-assets/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="/admin-assets/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
<!-- Bootstrap Switch -->
<script src="/admin-assets/plugins/bootstrap-switch/js/bootstrap-switch.min.js"></script>
<!-- BS-Stepper -->
<script src="/admin-assets/plugins/bs-stepper/js/bs-stepper.min.js"></script>
<!-- dropzonejs -->
<script src="/admin-assets/plugins/dropzone/min/dropzone.min.js"></script>



<!-- Summernote -->
<script src="/admin-assets/plugins/summernote/summernote-bs4.min.js"></script>
<!-- overlayScrollbars -->
<script src="/admin-assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- DataTables  & Plugins -->
<script src="/admin-assets/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="/admin-assets/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="/admin-assets/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
<script src="/admin-assets/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
<script src="/admin-assets/plugins/datatables-buttons/js/dataTables.buttons.min.js"></script>
<script src="/admin-assets/plugins/datatables-buttons/js/buttons.bootstrap4.min.js"></script>
<script src="/admin-assets/plugins/jszip/jszip.min.js"></script>
<script src="/admin-assets/plugins/pdfmake/pdfmake.min.js"></script>
<script src="/admin-assets/plugins/pdfmake/vfs_fonts.js"></script>
<script src="/admin-assets/plugins/datatables-buttons/js/buttons.html5.min.js"></script>
<script src="/admin-assets/plugins/datatables-buttons/js/buttons.print.min.js"></script>
<script src="/admin-assets/plugins/datatables-buttons/js/buttons.colVis.min.js"></script>
<!-- AdminLTE App -->
<script src="/admin-assets/dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/admin-assets/dist/js/demo.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="/admin-assets/dist/js/pages/dashboard.js"></script>

<script src="/admin-assets/dist/js/jquery.toaster.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/froala-editor@latest/js/froala_editor.pkgd.min.js"></script>
<!-- Page specific script -->
<script>

    $.ajaxSetup({
  headers: {
    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
    }
    });
    var editor = new FroalaEditor('.froalaEditor');
  $(function () {
    $('.select2').select2();

    //Initialize Select2 Elements
    $('.select2bs4').select2({
    theme: 'bootstrap4'
    });
    
    $("#example1").DataTable({
      "responsive": true, "lengthChange": false, "autoWidth": false,
      "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
    }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
      "responsive": true,
    });
  });

 
  function confirm_nodedelete_modal(delete_url)
  {
      jQuery('#nodedelete-alert-modal').modal('show', {backdrop: 'static'});
      document.getElementById('update_node_link').setAttribute('href' , delete_url);
  }
  function confirm_memberlogin_modal(delete_url)
  {
      jQuery('#memberlogin-alert-modal').modal('show', {backdrop: 'static'});
      document.getElementById('update_memberlogin_link').setAttribute('href' , delete_url);
  }

 
    function active_modal(delete_url)
    {
        jQuery('#activealert-modal').modal('show', {backdrop: 'static'});
        document.getElementById('activeupdate_link').setAttribute('href' , delete_url);
    }
    function inactive_modal(delete_url)
    {
        jQuery('#inactivealert-modal').modal('show', {backdrop: 'static'});
        document.getElementById('inactiveupdate_link').setAttribute('href' , delete_url);
    }
    function getSecondCat(val) {
    	$.ajax({
    		type: "POST",
    		url: "/admin/getSecondCat",
    		data:'cat_id='+val,
    		beforeSend: function() {
    			// $("#second_cat_id").addClass("loader");
    		},
    		success: function(data){
                // console.log("data",data);
    			$("#second_cat_id").html(data);
    			//$("#second_cat_id").removeClass("loader");
    		}
    	});
    }
    function getThirdCat(val) {
        $.ajax({
            type: "POST",
            url: "/admin/getThirdCat",
            data:'cat_id='+val,
            beforeSend: function() {
                //$("#third_cat_id").addClass("loader");
            },
            success: function(data){
                 //console.log("data",data);
                $("#third_cat_id").html(data);
               // $("#third_cat_id").removeClass("loader");
            }
        });
    }
    
     function uploadProduct(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#product_img').show();
                $('#product_img')
                    .attr('src', e.target.result)
                    .width(70)
                    .height(80);

            };

            reader.readAsDataURL(input.files[0]);
        }
    }
    
    function isNumber(evt) {
      evt = (evt) ? evt : window.event;
      var charCode = (evt.which) ? evt.which : evt.keyCode;
      if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        return false;
      }
      return true;
    }
    
    function deleteproduct_modal(delete_url)
    {
        //console.log("HHHHHHHH");
        jQuery('#deleteproduct-modal').modal('show', {backdrop: 'static'});
        document.getElementById('productdeleteupdate_link').setAttribute('href' , delete_url);
    }
    function deletestock_modal(delete_url)
    {
        //console.log("HHHHHHHH");
        jQuery('#deletestock-modal').modal('show', {backdrop: 'static'});
        document.getElementById('stockdeleteupdate_link').setAttribute('href' , delete_url);
    }
    function deletebanner_modal(delete_url)
    {
        //console.log("HHHHHHHH");
        jQuery('#deletebanner-modal').modal('show', {backdrop: 'static'});
        document.getElementById('bannerdeleteupdate_link').setAttribute('href' , delete_url);
    }
    function deletewarehouse_modal(delete_url)
    {
        //console.log("HHHHHHHH");
        jQuery('#deletewarehouse-modal').modal('show', {backdrop: 'static'});
        document.getElementById('warehousedeleteupdate_link').setAttribute('href' , delete_url);
    }
    function deletebill_modal(delete_url)
    {
        //console.log("HHHHHHHH");
        jQuery('#deletebill-modal').modal('show', {backdrop: 'static'});
        document.getElementById('billdeleteupdate_link').setAttribute('href' , delete_url);
    }
    
    
    function confirm_deletefranchisetype_modal(delete_url)
    {
        jQuery('#alert-deletefranchisetype-modal').modal('show', {backdrop: 'static'});
        document.getElementById('update_deletefranchisetype_link').setAttribute('href' , delete_url);
    }
    function confirm_deletesecondcategory_modal(delete_url)
    {
        jQuery('#alert-deletesecondcategory-modal').modal('show', {backdrop: 'static'});
        document.getElementById('update_deletesecondcategory_link').setAttribute('href' , delete_url);
    }
    function confirm_deletethirdcategory_modal(delete_url)
    {
        jQuery('#alert-deletethirdcategory-modal').modal('show', {backdrop: 'static'});
        document.getElementById('update_deletethirdcategory_link').setAttribute('href' , delete_url);
    }
    function confirm_payrequest_modal(delete_url)
    {
        jQuery('#alert-payrequest-modal').modal('show', {backdrop: 'static'});
        document.getElementById('update_payrequest_link').setAttribute('href' , delete_url);
    }
    
    //All Products add to cart
          function productaddtocart(data) {
              var link = $(data).attr('data-link');
              // console.log(link);
              $.ajax({
                  url: link,
                  type: 'POST',
                  success: function(response) {
                      //console.log(response);
                      if (response == 1 || response == 2) {
                          $(data).hide();
                          $(data).siblings('.viewbagbtn').show();
                          var countlike=$(".cartcount").text();
                          var sum=parseInt(countlike)+parseInt('1');
                          $('.cartcount').text(sum);
                          $.toaster({ priority : 'success', title : 'Success', message : 'Added to Bag!'});
                      }
                  }
              });
          }
          
          
    // quantity change js
    $('.pro-qty').prepend('<span class="dec qtybtn">-</span>');
    $('.pro-qty').append('<span class="inc qtybtn">+</span>');
    $('.qtybtn').on('click', function () {
        var $button = $(this);
        var oldValue = $button.parent().find('input').val();
        if ($button.hasClass('inc')) {
            var newVal = parseFloat(oldValue) + 1;
        } else {
            // Don't allow decrementing below zero
            if (oldValue > 1) {
                var newVal = parseFloat(oldValue) - 1;
            } else {
                newVal = 1;
            }
        }
        $button.parent().find('input').val(newVal);
	});
	
	$(".dec").click(function(event){
              var subtotalamt=$(this).parent().parent().next('.pro-subtotal').text();
              var priceamt=$(this).parent().parent().prev('.pro-price').text();
              var priceamt=priceamt.replace('₹','');
              var quantity=$(this).next('.quantity').val();
              var productid=$(this).parent().parent().prev('.pro-price').find('.productid').val();
              var userid=$(this).parent().parent().prev('.pro-price').find('.userid').val();
              //console.log('quantity',$(this).prev('.quantity'));
              var newsubtotal=parseInt(priceamt)*parseInt(quantity);
              $(this).parent().parent().next('.pro-subtotal').text('₹'+newsubtotal);
  
              var prototalsum = 0;
                      $(".pro-subtotal").each(function() {
  
                      var value = $(this).text();
                      var subtotal=value.replace('₹','');
                      var subtotal=parseInt(subtotal);
                      // add only if the value is number
                      if(!isNaN(subtotal) && subtotal.length != 0) {
                          prototalsum += parseFloat(subtotal);
                          // console.log('prototalsum',prototalsum);
                          $('#allproductsubtotal').text('₹'+prototalsum);
                          $('.total-amount').text('₹'+prototalsum);
                      }
                      });
              $.ajax({
                  url:"/admin/productquantity",
                  type: "POST",
                  data:{ productid : productid, userid : userid, quantity : quantity },
                  success:function(data) {
                      //console.log('data',data);
                      if (data == 1) { 
                          $.toaster({ priority : 'success', title : 'Success', message : 'Quantity Removed!'});
                      }else{
                          // console.log('qqq',$(this).text());
                          // $(this).prev('.quantity').val();
                          $.toaster({ priority : 'warning', title : 'Warning', message : 'Quantity Exhausted!'});
                      }
                  }
              });
          });
          
          
          $(".inc").click(function(event){
              var subtotalamt=$(this).parent().parent().next('.pro-subtotal').text();
              var priceamt=$(this).parent().parent().prev('.pro-price').text();
              var priceamt=priceamt.replace('₹','');
              var quantity=$(this).prev('.quantity').val();
              var productid=$(this).parent().parent().prev('.pro-price').find('.productid').val();
              var userid=$(this).parent().parent().prev('.pro-price').find('.userid').val();
              console.log('userid',userid);
              var newsubtotal=parseInt(priceamt)*parseInt(quantity);
              $(this).parent().parent().next('.pro-subtotal').text('₹'+newsubtotal);
              var prototalsum = 0;
                      $(".pro-subtotal").each(function() {
  
                      var value = $(this).text();
                      var subtotal=value.replace('₹','');
                      var subtotal=parseInt(subtotal);
                      // add only if the value is number
                      if(!isNaN(subtotal) && subtotal.length != 0) {
                          prototalsum += parseFloat(subtotal);
                          // console.log('prototalsum',prototalsum);
                          $('#allproductsubtotal').text('₹'+prototalsum);
                          $('.total-amount').text('₹'+prototalsum);
                      }
                      });
  
              $.ajax({
                  url:"/admin/productquantity",
                  type: "POST",
                  data:{ productid : productid, userid : userid, quantity : quantity },
                  success:function(data) {
                      //console.log('data',$(this).parent());
                      if (data == 1) { 
                          $.toaster({ priority : 'success', title : 'Success', message : 'Product Added!'});
                      }else{
                          // console.log('qqq',$(this).text());
                          // $(this).prev('.quantity').val();
                          $.toaster({ priority : 'warning', title : 'Warning', message : 'Quantity Exhausted!'});
                      }
                      
                  }
              });
          });
          
                    //Remove from Cart
          $(".removefromcart").on('submit', (function (e) {
          e.preventDefault(); 
                  var productid=$(".productid").val();
                  $.ajax({
                  url:"/admin/removefromcart",
                  type: "POST",
                  data:$('.removefromcart').serialize(),
                  success:function(data)
                  {
                   console.log("data",data);
                      if(data==1){
                          $(".cartrow"+productid).hide();
                          var countlike=$(".cartcount").text();
                          var sum=parseInt(countlike)-parseInt('1');
                          $('.cartcount').text(sum);
                          
                          $.toaster({ priority : 'success', title : 'Success', message : 'Removed from Bag!'});
                      }
                  }
              });
             
          }));
          
    function changedeliverystatus_modal(url)
    {
        //console.log("HHHHHHHH");
        jQuery('#changedeliverystatus-modal').modal('show', {backdrop: 'static'});
        document.getElementById('changedeliverystatus_link').setAttribute('href' , url);
    }
    

    //All Products buy
    function productbuy(data) {
              var link = $(data).attr('data-link');
              // console.log(link);
              $.ajax({
                  url: link,
                  type: 'POST',
                  success: function(response) {
                      //console.log(response);
                      if (response == 1) {
                        //   $(data).hide();
                        //   $(data).siblings('.viewbagbtn').show();
                        //   var countlike=$(".cartcount").text();
                        //   var sum=parseInt(countlike)+parseInt('1');
                        //   $('.cartcount').text(sum);
                          $.toaster({ priority : 'success', title : 'Success', message : 'Added to Bag!'});
                      }
                  }
              });
          }
          
</script>
</body>
</html>
